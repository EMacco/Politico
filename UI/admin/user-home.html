<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width">
    <meta name="description" content="Simple website for elections">
    <meta name="keywords" content="voting, election, politician, politics">
    <meta name="author" content="Okwara Emmanuel">
    <title>POLITICO | User Dashboard</title>
    <link rel="stylesheet" type="text/css" href="../css/style.css">
    <script src="../js/index.js"></script>
    <script src="../js/myFunctions.js"></script>
    <script src="../js/dashboard.js"></script>
</head>

<body class="signed-in-page">
    <header class="index-header">
        <h1 class="logo"><a href="../user-home.html">POLITICO</a></h1>

        <input type="checkbox" class="nav-toggle" id="nav-toggle" onclick="toggleMenu(this)">
        <nav>
            <div class="header-nav">
                <ul>
                    <li><a href="../user-home.html">Home</a></li>
                    <li><a href="user-home.html">My Dashboard</a></li>
                    <li><a href="interests.html">Interests</a></li>
                    <li><a href="new-political-party.html">New Political Party</a></li>
                    <li><a href="new-government-office.html">New Government Office</a></li>
                    <li><a href="new-elections.html">Schedule Election</a></li>
                    <li><a onclick="dashboardSignoutBtnClicked()">Log out</a></li>
                </ul>
            </div>
            <div class="header-nav-big-screen">
                <ul>
                    <li>Welcome, <span id="welcomeUserLbl">Emmanuel Okwara</span></li>
                </ul>
            </div>
        </nav>

        <label for="nav-toggle" class="nav-toggle-label">
            <span></span>
        </label>
    </header>

    <div id="overlay" class="overlay"></div>

    <main id="user-home-main">
        <div class="container">
            <section id="user-profile-container">
                <div>
                    <img src="../img/person-large.png" id="profile-img-preview" />
                    <script>
                        const imgUrl = userDetails.user.passporturl
                        if (imgUrl !== 'https://') {
                            document.getElementById('profile-img-preview').src = imgUrl;
                        } 
                    </script>
                </div>
                <div class="profile-description-text">
                    <label><span class="profile-answers" id="welcomeUserLbl2">Emmanuel Okwara</span></label>
                    <label>Email: <span class="profile-answers" id="welcomeEmailLbl">okwarae.n@gmail.com</span></label>
                    <label>Phone: <span class="profile-answers" id="welcomePhoneLbl">08124185320</span></label>
                    <a href="resetPassword.html">Reset Password</a>
                </div>

                <script>
                    // Set the values of the profile 
                    // Set the name 
                    document.getElementById('welcomeUserLbl').innerHTML = `${userDetails.user.firstname} ${userDetails.user.lastname}`;
                    document.getElementById('welcomeUserLbl2').innerHTML = `${userDetails.user.firstname} ${userDetails.user.lastname}`;
                    document.getElementById('welcomeEmailLbl').innerHTML = userDetails.user.email;
                    document.getElementById('welcomePhoneLbl').innerHTML = userDetails.user.phonenumber;
                </script>
                <hr class="separate-profile-nav" />

                <a href="../user-home.html">
                    <div class="nav-menu">
                        My Profile
                    </div>
                </a>
                <a href="user-home.html" id="current-side-bar">
                    <div class="nav-menu" id="current-side-bar">
                        My Dashboard
                    </div>
                </a>
                <a href="interests.html">
                    <div class="nav-menu">
                        Interests
                    </div>
                </a>
                <a href="new-political-party.html">
                    <div class="nav-menu">
                        New Political Party
                    </div>
                </a>
                <a href="new-government-office.html">
                    <div class="nav-menu">
                        New Government Office
                    </div>
                </a>
                <a href="new-elections.html">
                    <div class="nav-menu">
                        Schedule Election
                    </div>
                </a>
                <a onclick="dashboardSignoutBtnClicked()">
                    <div class="nav-menu">
                        Log out
                    </div>
                </a>
            </section>

            <section id="user-home-content-div">
                <div class="profile-page-section">
                    <h3 id="interested-office-header">Political Parties (<span id="dasboardNumberOfPartiesLbl"></span>)</h3>
                    <div class="content-group" id="dashboardPoliticalPartiesSlot">
                        <script>
                            fetchPoliticalParties();
                        </script>
                    </div>
                </div>

                <div class="profile-page-section">
                    <h3>Government Offices (<span id="numberOfOfficessLbl"></span>)</h3>
                    <div class="content-group" id="dashboardOfficesSlot">
                        <script>
                            fetchGovernmentOffices();
                        </script>
                    </div>
                </div>
            </section>
        </div>

        <footer class="user-home-footer">
            Politico Website Designed by Okwara Emmanuel &copy; 2019
        </footer>
    </main>
</body>

</html>